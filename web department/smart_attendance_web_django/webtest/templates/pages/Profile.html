{% extends "base.html" %}

{% block title %}Student Details - Attendance System{% endblock %}

{% block breadcrumb %}Home / Students / {{ student.name }}{% endblock %}

{% block content %}
<div class="p-6">
    <div class="text-2xl font-semibold text-teal-700 mb-4">
        STUDENT DETAILS
    </div>
    <div class="bg-white p-8 rounded-lg shadow-lg">
        <div class="flex items-center mb-8">
            <img alt="Student Avatar" class="w-20 h-20 rounded-full mr-4" 
                 src="{{ student.photo_url }}"/>
            <div>
                <h3 class="text-2xl font-bold text-gray-700">{{ student.name }}</h3>
                <p class="text-gray-500">{{ student.department }}</p>
                <p class="text-gray-500">{{ student.year }}</p>
            </div>
            <i class="fas fa-edit text-yellow-500 ml-auto"></i>
        </div>
        <div class="grid grid-cols-3 gap-8">
            <div class="bg-teal-700 text-white p-4 rounded-lg text-center">
                <i class="fas fa-calendar-alt text-2xl mb-2"></i>
                <p class="text-lg font-bold">THIS MONTH</p>
                <p class="text-2xl">Present {{ student.attendance }}/{{ student.total_classes }}</p>
            </div>
            <div class="bg-gray-800 text-white p-4 rounded-lg text-center">
                <i class="fas fa-paper-plane text-2xl mb-2"></i>
                <p class="text-lg font-bold">LEAVES APPLIED</p>
                <p class="text-2xl">{{ student.leaves }}</p>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-lg">
                <h4 class="text-lg font-bold text-gray-700 mb-4">Performance</h4>
                <div class="flex justify-center items-center">
                    <div class="relative">
                        <svg class="w-32 h-32">
                            <circle cx="50%" cy="50%" fill="none" r="45%" stroke="gray" stroke-width="10"></circle>
                            <circle cx="50%" cy="50%" fill="none" r="45%" stroke="green" 
                                    stroke-dasharray="282.6" 
                                    stroke-dashoffset="{{ student.performance_offset }}" 
                                    stroke-width="10">
                            </circle>
                        </svg>
                        <div class="absolute inset-0 flex justify-center items-center">
                            <span class="text-2xl font-bold text-green-500">{{ student.performance }}%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-8 bg-yellow-100 p-4 rounded-lg">
            <p><strong>Student ID:</strong> {{ student.id }}</p>
            <p><strong>Subject:</strong> {{ student.subject }}</p>
            <p><strong>Email:</strong> {{ student.email }}</p>
            <p><strong>Mobile Number:</strong> {{ student.phone }}</p>
        </div>
    </div>
</div>
{% endblock %}
